# 13.审计报告

<figure><img src="../../../.gitbook/assets/image (11).png" alt=""><figcaption><p>加密审计报告</p></figcaption></figure>

CertiK 于 9 月 29 日就 XEN Crypto 审计提供了初步意见。9 月 30 日，他们提交了最终报告。存在不同安全级别的三个问题。我们查看报告并让社区成员审查 XEN 智能合约代码。

XEN 审计报告 网络安全公司 CertiK 进行了手动 XEN Crypto 代码审查。

XEN Crypto 的代码存储库可以在这里找到：https://github.com/FairCrypto/XEN-crypto，

Litepaper 可以在这里找到 https://faircrypto.org/xencryptolp.pdf，

审计报告页面在这里：https://www.xencrypto.io/what-is-Xen-Tokenomics/。

在存储库中，Contracts/XENCrypto.sol 是 XEN Crypto 源代码的主要部分，只有 417 行长。

代码简单明了。 Leonid Belyaev 和 Nicholas Pettas 是主要贡献者。

t

<figure><img src="https://btcdayu.gitbook.io/~gitbook/image?url=https:%2F%2F1896207398-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252FkndOd8yXPMu5IiCOU8TW%252Fuploads%252FmYivF8ML88NexE2SZOAh%252Fimage.png%3Falt=media%26token=bfec462e-be08-4b98-9829-fc10d9d4ffbc&#x26;width=768&#x26;dpr=4&#x26;quality=100&#x26;sign=f11ed4f71ca21f0c33c26e8306b4ea611104fd341c670ed47e984c3229b57567" alt=""><figcaption><p>CertiK Audi</p></figcaption></figure>

CertiK 使用静态分析技术发现了三个问题。一个问题是次要的，涉及代码和文档之间的不一致，另一个是关于合同目的的争论，最后一个是关于惩罚计算的限制。

<figure><img src="https://btcdayu.gitbook.io/~gitbook/image?url=https:%2F%2F1896207398-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252FkndOd8yXPMu5IiCOU8TW%252Fuploads%252FwPWk25ZdlbipKRhEDJJn%252Fimage.png%3Falt=media%26token=9a5c6292-825f-4b32-93d2-5812536d395c&#x26;width=768&#x26;dpr=4&#x26;quality=100&#x26;sign=6fa0801149f2dfa43b2e3732b162ed47d0c56496af4e9db49d8dcb168f16928a" alt=""><figcaption><p>审计范围和方法</p></figcaption></figure>

CertiK 建议的代码修复程序已被开发人员及时应用，并且文档已更新。

<figure><img src="https://btcdayu.gitbook.io/~gitbook/image?url=https:%2F%2F1896207398-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252FkndOd8yXPMu5IiCOU8TW%252Fuploads%252F6AlxqJoQJmWh5FaFyrS0%252Fimage.png%3Falt=media%26token=689ec237-ee2d-404a-b037-f9557c542849&#x26;width=768&#x26;dpr=4&#x26;quality=100&#x26;sign=ec4e09b8d68711ea5486804d7f1d3c37d028fd3b488c4aa5f75261f8a4b39575" alt=""><figcaption><p>XEN Crypto post audit fixes</p></figcaption></figure>

<figure><img src="https://btcdayu.gitbook.io/~gitbook/image?url=https:%2F%2F1896207398-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252FkndOd8yXPMu5IiCOU8TW%252Fuploads%252FeSqyCc15A7rsp4wqeXBD%252Fimage.png%3Falt=media%26token=57fb7092-4edc-45d7-9d16-f597e582d2a7&#x26;width=768&#x26;dpr=4&#x26;quality=100&#x26;sign=b0fb40661ed1bb1b38617e3902d39a1bddedba2c2196b737651852b26b5a9e70" alt=""><figcaption><p>XEN Crypto post audit fixes</p></figcaption></figure>

CertiK 在报告中询问了 Migrations.sol 的目的。根据 Belayev 的说法，“这是 Truffle 包在开发/测试阶段附带的辅助合约。我们不打算在生产中使用它。”

合约 migrations.sol 已被移除，AMP 计算已被简化。

代码与文档的不一致与 AMP 减少的方式有关。审计报告所指的文件指出：“……奖励放大器 (AMP) 是一个常数，奖励增加 3,000 倍，每 30 天减少 30 倍，直到达到 1 的平台期。”；而 CertiK 则断言源代码不会以 30 天的间隔减少该值。

事实上，由于 REWARD\_AMPLIFIER\_STEP 恰好是 30，奖励放大器应该每天减少 1。为了每月减少 30（大约），计算需要先除以 SECONDS\_IN\_MONTH，然后再乘以 REWARD\_AMPLIFIER\_STEP”，CertiK 写道。

还有一个关于处罚的不一致之处，其中 2 天和 5 天的处罚百分比降低了 1%。延迟铸造 2 天的罚款应为 3%，延迟 5 天的罚款应为 35%。

“因此，处罚有两件事：

1\) 2 起案件的百分比下降（必须处理四舍五入函数）。我们修复了轻质纸以匹配坚固性结果。

2\) 在某些潜在情况下，罚款的计算可能会导致溢出（人们希望在到期后超过 256 天领取薄荷糖，这无论如何都是不可能的）。我们完全按照他们的建议在审计后提交中修复了这个问题。我们还在计算中发现了一些差异，并在审计后对其进行了修复。

此外，我们决定添加另一个 getter 来检查当前 MaxTerm 的声明/挖掘”，Leonid Belayev 说。

最高惩罚已从 100% 更改为 99%。此更改可防止用户在 7 天后丢失整个MINT，并且他们始终可以在任意时候回来领到 1%币。

## 独立代码审查 <a href="#du-li-dai-ma-shen-cha" id="du-li-dai-ma-shen-cha"></a>

独立于 CertiK 的审计报告，YouTuber 和 XEN 社区成员 Fashioncoder6 提供了 XEN Crypto 的源代码审查。她带我们浏览 GitHub 存储库，审查和解释代码的不同功能和参数。她解释了 XEN 在幕后工作的来龙去脉。下方是视频：

{% embed url="https://youtu.be/Kp0kIgjcW9w" %}
代码审查
{% endembed %}

## 销毁功能 XEN <a href="#xiao-hui-gong-neng-xen" id="xiao-hui-gong-neng-xen"></a>

Crypto 代码还有一个有趣的销毁功能，允许销毁 XEN 代币并创建可被连接的 DeFi 服务使用的销毁记录，这些服务将建立在 XEN Crypto 智能合约之上。
